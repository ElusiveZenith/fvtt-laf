{"name":"Standard Space Adventure Generator","permission":{"default":0,"FjlL7Z8Ce85kjYjL":3},"type":"script","flags":{},"scope":"global","command":"const compendium_title = `Create a Space Adventure`;\r\nconst tableName1 = `1. A threat...`;\r\nconst tableName2 = `2....wants to...`;\r\nconst tableName3 = `3....the...`;\r\nconst tableName4 = `4....which will...`;\r\n\r\n(async ()=> {\r\n  let table_pack = await game.packs.find(p=>p.metadata.label===compendium_title).getContent();\r\n  let table1 = table_pack.find(i=>i.name===tableName1);\r\n  let table2 = table_pack.find(i=>i.name===tableName2);\r\n  let table3 = table_pack.find(i=>i.name===tableName3);\r\n  let table4 = table_pack.find(i=>i.name===tableName4);\r\n\r\n  let result1 = await table1.roll();\r\n  let result2 = await table2.roll();\r\n  let result3 = await table3.roll();\r\n  let result4 = await table4.roll();\r\n\r\n  let chatData = {\r\n    user: game.user._id,\r\n    speaker: ChatMessage.getSpeaker(),\r\n    content: 'Space Adventure Generated: ' + result1.results[0].text + ' want(s) to ' + result2.results[0].text + ' the ' + result3.results[0].text + ' which will ' + result4.results[0].text,\r\n    whisper: game.users.entities.filter(u => u.isGM).map(u => u._id)\r\n};\r\n  ChatMessage.create(chatData, {});\r\n})();\r\n","author":"FjlL7Z8Ce85kjYjL","img":"icons/svg/book.svg","actorIds":[],"_id":"IilfevrdX918eZ6D"}
